<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <style>
      body {
        margin: 10px;
      }
    </style>

    <script>
      var socket = io();

      $(function () {
        let text = $("textarea").val();
        socket.emit("message", text);

        $("textarea").on("input", function () {
          let text = $("textarea").val();
          text = text.replace(/(\r\n|\n|\r)/gm, ' ')
          socket.emit("message", text);
        });
      });

      socket.on("message", function (message) {
        let json = JSON.parse(message)
        let res = JSON.stringify(json, null, 2)
        $("pre").text(res);
        console.log(json)
      });
    </script>
  </head>
  <body>
    <h1></h1>
    <div class="ui form">
      <textarea>Augmented reality (AR) is an enhanced version of the real physical world that is achieved through the use of digital visual elements, sound, or other sensory stimuli delivered via technology. It is a growing trend among companies involved in mobile computing and business applications in particular.</textarea>
    </div>
    <pre></pre>
  </body>
</html>
